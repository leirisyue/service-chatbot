2025-12-12 02:36:47,862 ERROR startup: Failed to read settings: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
Traceback (most recent call last):
  File "/app/app/main.py", line 40, in log_env_summary
    from app.config import settings
  File "/app/app/config.py", line 5, in <module>
    class Settings(BaseSettings):
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
    private_attributes = inspect_namespace(
                         ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
    raise PydanticUserError(
pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
2025-12-12 02:36:48,100 ERROR startup: Failed to mount router: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
Traceback (most recent call last):
  File "/app/app/main.py", line 66, in <module>
    from app.routers.rag import rag_router
  File "/app/app/routers/rag.py", line 6, in <module>
    from app.embedding import embed_text, health_check_ollama
  File "/app/app/embedding.py", line 4, in <module>
    from app.config import settings
  File "/app/app/config.py", line 5, in <module>
    class Settings(BaseSettings):
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
    private_attributes = inspect_namespace(
                         ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
    raise PydanticUserError(
pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
2025-12-12 02:36:49,881 ERROR startup: Failed to read settings: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
Traceback (most recent call last):
  File "/app/app/main.py", line 40, in log_env_summary
    from app.config import settings
  File "/app/app/config.py", line 5, in <module>
    class Settings(BaseSettings):
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
    private_attributes = inspect_namespace(
                         ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
    raise PydanticUserError(
pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
2025-12-12 02:36:50,123 ERROR startup: Failed to mount router: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
Traceback (most recent call last):
  File "/app/app/main.py", line 66, in <module>
    from app.routers.rag import rag_router
  File "/app/app/routers/rag.py", line 6, in <module>
    from app.embedding import embed_text, health_check_ollama
  File "/app/app/embedding.py", line 4, in <module>
    from app.config import settings
  File "/app/app/config.py", line 5, in <module>
    class Settings(BaseSettings):
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
    private_attributes = inspect_namespace(
                         ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
    raise PydanticUserError(
pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
2025-12-12 02:36:51,969 ERROR startup: Failed to read settings: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
Traceback (most recent call last):
  File "/app/app/main.py", line 40, in log_env_summary
    from app.config import settings
  File "/app/app/config.py", line 5, in <module>
    class Settings(BaseSettings):
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
    private_attributes = inspect_namespace(
                         ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
    raise PydanticUserError(
pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
2025-12-12 02:36:52,179 ERROR startup: Failed to mount router: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
Traceback (most recent call last):
  File "/app/app/main.py", line 66, in <module>
    from app.routers.rag import rag_router
  File "/app/app/routers/rag.py", line 6, in <module>
    from app.embedding import embed_text, health_check_ollama
  File "/app/app/embedding.py", line 4, in <module>
    from app.config import settings
  File "/app/app/config.py", line 5, in <module>
    class Settings(BaseSettings):
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
    private_attributes = inspect_namespace(
                         ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
    raise PydanticUserError(
pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
2025-12-12 02:36:54,263 ERROR startup: Failed to read settings: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
Traceback (most recent call last):
  File "/app/app/main.py", line 40, in log_env_summary
    from app.config import settings
  File "/app/app/config.py", line 5, in <module>
    class Settings(BaseSettings):
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
    private_attributes = inspect_namespace(
                         ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
    raise PydanticUserError(
pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
2025-12-12 02:36:54,483 ERROR startup: Failed to mount router: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
Traceback (most recent call last):
  File "/app/app/main.py", line 66, in <module>
    from app.routers.rag import rag_router
  File "/app/app/routers/rag.py", line 6, in <module>
    from app.embedding import embed_text, health_check_ollama
  File "/app/app/embedding.py", line 4, in <module>
    from app.config import settings
  File "/app/app/config.py", line 5, in <module>
    class Settings(BaseSettings):
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
    private_attributes = inspect_namespace(
                         ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
    raise PydanticUserError(
pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
2025-12-12 02:36:56,953 ERROR startup: Failed to read settings: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
Traceback (most recent call last):
  File "/app/app/main.py", line 40, in log_env_summary
    from app.config import settings
  File "/app/app/config.py", line 5, in <module>
    class Settings(BaseSettings):
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
    private_attributes = inspect_namespace(
                         ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
    raise PydanticUserError(
pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
2025-12-12 02:36:57,172 ERROR startup: Failed to mount router: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
Traceback (most recent call last):
  File "/app/app/main.py", line 66, in <module>
    from app.routers.rag import rag_router
  File "/app/app/routers/rag.py", line 6, in <module>
    from app.embedding import embed_text, health_check_ollama
  File "/app/app/embedding.py", line 4, in <module>
    from app.config import settings
  File "/app/app/config.py", line 5, in <module>
    class Settings(BaseSettings):
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
    private_attributes = inspect_namespace(
                         ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
    raise PydanticUserError(
pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
2025-12-12 02:37:00,534 ERROR startup: Failed to read settings: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
Traceback (most recent call last):
  File "/app/app/main.py", line 40, in log_env_summary
    from app.config import settings
  File "/app/app/config.py", line 5, in <module>
    class Settings(BaseSettings):
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
    private_attributes = inspect_namespace(
                         ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
    raise PydanticUserError(
pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
2025-12-12 02:37:00,773 ERROR startup: Failed to mount router: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
Traceback (most recent call last):
  File "/app/app/main.py", line 66, in <module>
    from app.routers.rag import rag_router
  File "/app/app/routers/rag.py", line 6, in <module>
    from app.embedding import embed_text, health_check_ollama
  File "/app/app/embedding.py", line 4, in <module>
    from app.config import settings
  File "/app/app/config.py", line 5, in <module>
    class Settings(BaseSettings):
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
    private_attributes = inspect_namespace(
                         ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
    raise PydanticUserError(
pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
2025-12-12 02:37:05,647 ERROR startup: Failed to read settings: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
Traceback (most recent call last):
  File "/app/app/main.py", line 40, in log_env_summary
    from app.config import settings
  File "/app/app/config.py", line 5, in <module>
    class Settings(BaseSettings):
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
    private_attributes = inspect_namespace(
                         ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
    raise PydanticUserError(
pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
2025-12-12 02:37:05,885 ERROR startup: Failed to mount router: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
Traceback (most recent call last):
  File "/app/app/main.py", line 66, in <module>
    from app.routers.rag import rag_router
  File "/app/app/routers/rag.py", line 6, in <module>
    from app.embedding import embed_text, health_check_ollama
  File "/app/app/embedding.py", line 4, in <module>
    from app.config import settings
  File "/app/app/config.py", line 5, in <module>
    class Settings(BaseSettings):
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
    private_attributes = inspect_namespace(
                         ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
    raise PydanticUserError(
pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
2025-12-12 02:37:14,079 ERROR startup: Failed to read settings: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
Traceback (most recent call last):
  File "/app/app/main.py", line 40, in log_env_summary
    from app.config import settings
  File "/app/app/config.py", line 5, in <module>
    class Settings(BaseSettings):
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
    private_attributes = inspect_namespace(
                         ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
    raise PydanticUserError(
pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
2025-12-12 02:37:14,312 ERROR startup: Failed to mount router: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
Traceback (most recent call last):
  File "/app/app/main.py", line 66, in <module>
    from app.routers.rag import rag_router
  File "/app/app/routers/rag.py", line 6, in <module>
    from app.embedding import embed_text, health_check_ollama
  File "/app/app/embedding.py", line 4, in <module>
    from app.config import settings
  File "/app/app/config.py", line 5, in <module>
    class Settings(BaseSettings):
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
    private_attributes = inspect_namespace(
                         ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
    raise PydanticUserError(
pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
2025-12-12 02:37:28,764 ERROR startup: Failed to read settings: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
Traceback (most recent call last):
  File "/app/app/main.py", line 40, in log_env_summary
    from app.config import settings
  File "/app/app/config.py", line 5, in <module>
    class Settings(BaseSettings):
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
    private_attributes = inspect_namespace(
                         ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
    raise PydanticUserError(
pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
2025-12-12 02:37:28,996 ERROR startup: Failed to mount router: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
Traceback (most recent call last):
  File "/app/app/main.py", line 66, in <module>
    from app.routers.rag import rag_router
  File "/app/app/routers/rag.py", line 6, in <module>
    from app.embedding import embed_text, health_check_ollama
  File "/app/app/embedding.py", line 4, in <module>
    from app.config import settings
  File "/app/app/config.py", line 5, in <module>
    class Settings(BaseSettings):
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
    private_attributes = inspect_namespace(
                         ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
    raise PydanticUserError(
pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
2025-12-12 02:37:56,319 ERROR startup: Failed to read settings: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
Traceback (most recent call last):
  File "/app/app/main.py", line 40, in log_env_summary
    from app.config import settings
  File "/app/app/config.py", line 5, in <module>
    class Settings(BaseSettings):
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
    private_attributes = inspect_namespace(
                         ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
    raise PydanticUserError(
pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
2025-12-12 02:37:56,558 ERROR startup: Failed to mount router: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
Traceback (most recent call last):
  File "/app/app/main.py", line 66, in <module>
    from app.routers.rag import rag_router
  File "/app/app/routers/rag.py", line 6, in <module>
    from app.embedding import embed_text, health_check_ollama
  File "/app/app/embedding.py", line 4, in <module>
    from app.config import settings
  File "/app/app/config.py", line 5, in <module>
    class Settings(BaseSettings):
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 132, in __new__
    private_attributes = inspect_namespace(
                         ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/pydantic/_internal/_model_construction.py", line 481, in inspect_namespace
    raise PydanticUserError(
pydantic.errors.PydanticUserError: A non-annotated attribute was detected: `APP_EMBEDDING_MODEL = 'qwen3-embedding:latest'`. All model fields require a type annotation; if `APP_EMBEDDING_MODEL` is not meant to be a field, you may be able to resolve this error by annotating it as a `ClassVar` or updating `model_config['ignored_types']`.

For further information visit https://errors.pydantic.dev/2.12/u/model-field-missing-annotation
2025-12-12 02:52:40,053 INFO startup: Environment summary: PG=host.docker.internal:5432 DB=ultimate_advisor OLLAMA_HOST=http://ollama:11434 EMB_MODEL=qwen3-embedding:latest GEMINI_MODEL=gemini-2.0-flash RELOAD=False
2025-12-12 02:52:41,288 INFO app.table_selector_llm: Using 2 default table schemas
2025-12-12 02:52:41,299 INFO startup: Router mounted successfully.
2025-12-12 02:52:41,361 INFO startup: Environment summary: PG=host.docker.internal:5432 DB=ultimate_advisor OLLAMA_HOST=http://ollama:11434 EMB_MODEL=qwen3-embedding:latest GEMINI_MODEL=gemini-2.0-flash RELOAD=False
2025-12-12 02:52:41,366 INFO startup: Router mounted successfully.
2025-12-12 02:52:41,367 INFO uvicorn.error: Started server process [1]
2025-12-12 02:52:41,367 INFO uvicorn.error: Waiting for application startup.
2025-12-12 02:52:41,368 INFO uvicorn.error: Application startup complete.
2025-12-12 02:52:41,370 INFO uvicorn.error: Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-12-12 02:53:15,943 INFO uvicorn.access: 172.28.0.1:56638 - "GET /docs HTTP/1.1" 200
2025-12-12 02:53:16,170 INFO uvicorn.access: 172.28.0.1:56638 - "GET /openapi.json HTTP/1.1" 200
2025-12-12 03:00:48,721 ERROR app.table_selector_llm: LLM table selection failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
Please retry in 11.229050031s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 11
}
]
Traceback (most recent call last):
  File "/app/app/table_selector_llm.py", line 139, in select_tables_with_llm
    response = model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
               ^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/usr/local/lib/python3.11/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
Please retry in 11.229050031s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 11
}
]
2025-12-12 03:00:48,728 INFO rag: Selected table: public.assembly_list_data (score=0.400)
2025-12-12 03:00:54,534 ERROR rag: Unhandled error in /query: different vector dimensions 768 and 4096
Traceback (most recent call last):
  File "/app/app/db.py", line 101, in _table_topk
    cur.execute(sql, (query_vec, query_vec, top_k))
  File "/usr/local/lib/python3.11/site-packages/psycopg/cursor.py", line 97, in execute
    raise ex.with_traceback(None)
psycopg.errors.DataException: different vector dimensions 768 and 4096

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/app/routers/rag.py", line 83, in query_rag
    hits = similarity_search_table(schema, table, query_vec_aligned, top_k=top_k, min_score=min_score)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/db.py", line 122, in similarity_search_table
    rows = _table_topk(schema, table, query_vec, top_k)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/db.py", line 117, in _table_topk
    cur.execute(sql, (query_vec, query_vec, top_k))
  File "/usr/local/lib/python3.11/site-packages/psycopg/cursor.py", line 97, in execute
    raise ex.with_traceback(None)
psycopg.errors.DataException: different vector dimensions 768 and 4096
2025-12-12 03:00:54,537 INFO uvicorn.access: 172.28.0.1:33266 - "POST /query HTTP/1.1" 500
2025-12-12 03:07:40,501 INFO uvicorn.error: Shutting down
2025-12-12 03:07:40,603 INFO uvicorn.error: Waiting for application shutdown.
2025-12-12 03:07:40,604 INFO uvicorn.error: Application shutdown complete.
2025-12-12 03:07:40,605 INFO uvicorn.error: Finished server process [1]
2025-12-12 03:07:53,643 INFO startup: Environment summary: PG=host.docker.internal:5432 DB=ultimate_advisor OLLAMA_HOST=http://ollama:11434 EMB_MODEL=qwen3-embedding:latest GEMINI_MODEL=gemini-2.0-flash RELOAD=False
2025-12-12 03:07:54,711 INFO app.table_selector_llm: Using 2 default table schemas
2025-12-12 03:07:54,723 INFO startup: Router mounted successfully.
2025-12-12 03:07:54,793 INFO startup: Environment summary: PG=host.docker.internal:5432 DB=ultimate_advisor OLLAMA_HOST=http://ollama:11434 EMB_MODEL=qwen3-embedding:latest GEMINI_MODEL=gemini-2.0-flash RELOAD=False
2025-12-12 03:07:54,799 INFO startup: Router mounted successfully.
2025-12-12 03:07:54,800 INFO uvicorn.error: Started server process [1]
2025-12-12 03:07:54,800 INFO uvicorn.error: Waiting for application startup.
2025-12-12 03:07:54,801 INFO uvicorn.error: Application startup complete.
2025-12-12 03:07:54,802 INFO uvicorn.error: Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-12-12 03:08:06,524 INFO uvicorn.access: 172.29.0.1:36956 - "GET /docs HTTP/1.1" 200
2025-12-12 03:08:07,072 INFO uvicorn.access: 172.29.0.1:36956 - "GET /openapi.json HTTP/1.1" 200
2025-12-12 03:08:12,294 ERROR app.table_selector_llm: LLM table selection failed: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
Please retry in 47.652664454s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 47
}
]
Traceback (most recent call last):
  File "/app/app/table_selector_llm.py", line 139, in select_tables_with_llm
    response = model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 830, in generate_content
    response = rpc(
               ^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/usr/local/lib/python3.11/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. 
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0, model: gemini-2.0-flash
Please retry in 47.652664454s. [links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 47
}
]
2025-12-12 03:08:12,298 INFO rag: Selected table: public.bompk_data (score=0.400)
2025-12-12 03:08:18,794 ERROR rag: Unhandled error in /query: different vector dimensions 768 and 4096
Traceback (most recent call last):
  File "/app/app/db.py", line 101, in _table_topk
    cur.execute(sql, (query_vec, query_vec, top_k))
  File "/usr/local/lib/python3.11/site-packages/psycopg/cursor.py", line 97, in execute
    raise ex.with_traceback(None)
psycopg.errors.DataException: different vector dimensions 768 and 4096

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/app/routers/rag.py", line 83, in query_rag
    hits = similarity_search_table(schema, table, query_vec_aligned, top_k=top_k, min_score=min_score)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/db.py", line 122, in similarity_search_table
    rows = _table_topk(schema, table, query_vec, top_k)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/db.py", line 117, in _table_topk
    cur.execute(sql, (query_vec, query_vec, top_k))
  File "/usr/local/lib/python3.11/site-packages/psycopg/cursor.py", line 97, in execute
    raise ex.with_traceback(None)
psycopg.errors.DataException: different vector dimensions 768 and 4096
2025-12-12 03:08:18,797 INFO uvicorn.access: 172.29.0.1:36956 - "POST /query HTTP/1.1" 500
